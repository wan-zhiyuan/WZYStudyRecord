import{r as t,c as s,h as i,g as h}from"./p-fcde3f42.js";const o=class{constructor(i){t(this,i),this.width=300,this.height=150,this.onTouchStart=()=>{this.timer=setTimeout(()=>{this.onLongTap.emit()},500)},this.onTouchMove=()=>{clearTimeout(this.timer)},this.onTouchEnd=()=>{clearTimeout(this.timer)},this.onLongTap=s(this,"longtap",7)}componentDidLoad(){const{width:t,height:s}=this.el.getBoundingClientRect();this.width=t,this.height=s,this.klass=this.el.className,this.css=this.el.style.cssText}componentDidUpdate(){const{width:t,height:s}=this.el.getBoundingClientRect();this.width!==t&&(this.width=t),this.height!==s&&(this.height=s),this.canvas&&(this.canvas.className=this.el.className,this.canvas.style.cssText=this.el.style.cssText)}render(){const{canvasId:t,width:s,height:h}=this;return i("canvas",{"canvas-id":t,ref:t=>this.canvas=t,width:s,height:h,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd})}get el(){return h(this)}static get style(){return"taro-canvas-core{position:relative;display:block;width:300px;height:150px}"}};export{o as taro_canvas_core};
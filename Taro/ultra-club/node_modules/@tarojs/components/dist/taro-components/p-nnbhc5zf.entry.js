import{r as t,c as s,h as e,g as o}from"./p-fcde3f42.js";const i=class{constructor(e){t(this,e),this.value={},this.onSubmit=s(this,"submit",7)}onButtonSubmit(t){t.stopPropagation(),this.value=this.getFormValue(),this.onSubmit.emit({value:this.value})}onButtonReset(t){t.stopPropagation(),this.form.reset()}componentDidLoad(){this.value=this.getFormValue(),Object.defineProperty(this.el,"value",{get:()=>this.value,configurable:!0})}getFormValue(){const t=this.el,s=[],e=t.getElementsByTagName("input");for(let n=0;n<e.length;n++)s.push(e[n]);const o={},i={};s.forEach(t=>{-1===t.className.indexOf("weui-switch")?"radio"!==t.type?"checkbox"!==t.type?o[t.name]=t.value:t.checked?i[t.name]?o[t.name].push(t.value):(i[t.name]=!0,o[t.name]=[t.value]):i[t.name]||(o[t.name]=[]):t.checked?(i[t.name]=!0,o[t.name]=t.value):i[t.name]||(o[t.name]=""):o[t.name]=t.checked});const r=t.getElementsByTagName("textarea"),h=[];for(let n=0;n<r.length;n++)h.push(r[n]);return h.forEach(t=>{o[t.name]=t.value}),o}render(){return e("form",{ref:t=>{t&&(this.form=t)}},e("slot",null))}get el(){return o(this)}};export{i as taro_form_core};